{% extends "base.html" %} {% block content %} {% if recipe %}
<h1 class="text-center">{{ recipe.title.title() }}</h1>


<!-- Image of the recipe with edit and delete buttons stacked vertically -->
<div class="container d-flex flex-column align-items-center my-5">
  {% if recipe.photo_filename %}
    <img
      src="{{ url_for('static', filename='uploads/' + recipe.photo_filename) }}"
      class="food-image mb-3"
      alt="Recipe image"
    />
  {% endif %}

  <div class="d-flex gap-2">
    <!-- Edit recipe button -->
    <form
      method="get"
      action="{{ url_for('recipes.edit_recipe', recipe_id=recipe.id) }}"
    >
      <button type="submit" class="btn edit-recipe-btn" title="Edit">
        <i class="bi bi-pencil"></i>
      </button>
    </form>

    <!-- Delete recipe button -->
    <form
      method="post"
      action="{{ url_for('recipes.delete_recipe', recipe_id=recipe.id) }}"
      onsubmit="return confirm('Are you sure you want to delete this recipe?');"
    >
      <button type="submit" class="btn delete-recipe-btn" title="Delete">
        <i class="bi bi-trash"></i>
      </button>
    </form>
  </div>
</div>

<!--Tags-->
{% if recipe.tags %}
<div class="container d-flex justify-content-center mb-3">
  {% for tag in recipe.tags %}
  <span class="badge bg-secondary me-1">{{ tag.name }}</span>
  {% endfor %}
</div>
{% endif %}

<div class="container d-flex justify-content-center">
  <h4>Ingredients</h4>
</div>
<div class="container d-flex justify-content-center">
  <ul>
    {% for ingredient in recipe.ingredients %}
    <li>{{ ingredient['name'].title() }} - {{ ingredient['quantity'] }}</li>
    {% endfor %}
  </ul>
</div>

<div class="container d-flex justify-content-center mt-5">
  <h4>Description</h4>
</div>
<div class="container d-flex justify-content-center">
  <p>{{ recipe.description.capitalize() | replace('\n', '<br />') | safe }}</p>
</div>

<div class="container d-flex justify-content-center mt-5">
  <h4>Instructions</h4>
</div>
<div class="container d-flex justify-content-center">
  <p>{{ recipe.instructions | replace('\n', '<br />') | safe }}</p>
</div>



{% else %}
<h1 class="text-center">Invalid Recipe</h1>
{% endif %} {% endblock %}
